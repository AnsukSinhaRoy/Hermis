# ============================
#  EXPERIMENT CONFIGURATION
# ============================
experiment:
  # Unique experiment name (used for folder naming)
  # ➤ Choose something short but descriptive. 
  # Example: "mean_var_k10" or "black_litterman_test"
  name: "RealData_greedy_k5__prototype"

  # Optional label/tag for this run (e.g., "prototype", "baseline", "gpu_test")
  # Used to create experiment folder name like "20251010_182147__example_mv_k10__prototype"
  tag: "prototype"

  # Start and end dates for the backtest or simulation period.
  # ➤ Applies to the price data window (synthetic or CSV).
  start_date: "2015-02-02 10:00:00"
  end_date: "2024-01-01 10:00:00"

  # Rebalancing frequency for the portfolio.
  # Options:
  #   "daily"     → rebalance every day (fast but unrealistic, high turnover)
  #   "weekly"    → rebalance roughly every 5 trading days
  #   "monthly"   → rebalance first trading day of each month
  #   "quarterly" → rebalance every 3 months
  #   "yearly"    → rebalance every year
  rebalance: "weekly"

  # Random seed for reproducibility.
  # ➤ Use an integer value. Changing it affects synthetic data generation and stochastic processes.
  seed: 42

  # Whether to use GPU for heavy numeric calculations (requires CuPy installed and working CUDA environment).
  # Options:
  #   true  → Use GPU backend (if CuPy is available)
  #   false → Use CPU (NumPy backend)
  # ➤ Set true only if you have a working CUDA setup and installed cupy-cudaXX.
  use_gpu: false


# ============================
#  DATA CONFIGURATION
# ============================
data:
  # Data source mode:
  #   "synthetic" → generate artificial price data (useful for testing)
  #   "csv"       → load your own price dataset from a CSV file
  # ➤ Keep "synthetic" until you are ready to feed real data.
  
  mode: "processed" # "synthetic" | "processed"
  processed_path: "data/processed/prices_1D.parquet"

  # Path to the CSV file (used only when mode = "csv")
  # CSV format options:
  #   1) "long" format:  date, ticker, price
  #   2) "wide" format:  date, <asset1>, <asset2>, ...
  # ➤ Example: "data/prices.csv"
  csv_path: ""


# ============================
#  RISK MODEL CONFIGURATION
# ============================
risk_model:
  # Type of risk (covariance) model to use:
  # Options:
  #   "sample_cov" → simple historical covariance (default)
  #   (future options may include: "ewma", "factor_model", etc.)
  type: "sample_cov"

  # Lookback window (number of past trading days to estimate covariance)
  # ➤ 252 = 1 year of daily data. Increase for smoother covariance; decrease for faster adaptation.
  lookback: 252


# ============================
#  OPTIMIZER CONFIGURATION
# ============================
optimizer:
  # Type of optimization objective:
  #   "mv"       → mean-variance optimization (minimize variance for given return)
  #   "mip"      → mixed-integer programming (exact k-cardinality, CPU-heavy)
  #   "greedy"   → greedy heuristic for k-cardinality (fast approximation)
  # ➤ Keep "mv" for baseline; the code automatically applies k-cardinality via greedy method if k_cardinality is set.
  type: "greedy"

  # Target return constraint for optimization.
  # Options:
  #   - null → no explicit return target; minimize risk given weights sum to 1
  #   - float value → minimum expected return the portfolio must achieve
  # Example: 0.001 means 0.1% per period (per rebalance)
  target_return: null

  # Number of assets allowed to have non-zero weights (k-cardinality constraint)
  # ➤ Example: 10 means only 10 assets will be chosen in each portfolio.
  # If null, all assets are allowed.
  k_cardinality: 15

  # Box constraints for individual asset weights.
  #   min → minimum allocation per asset (use 0.0 for long-only)
  #   max → maximum allocation per asset (e.g., 0.2 = 20%)
  # ➤ These control diversification and concentration limits.
  box:
    min: 0.0
    max: 0.2

  # Whether to restrict portfolio to long-only (no short selling).
  # Options:
  #   true  → only positive weights allowed (default)
  #   false → allow short positions (weights can be negative)
  long_only: true


# ============================
#  TRANSACTION COST MODEL
# ============================
transaction_costs:
  # Proportional transaction cost applied to each turnover (per rebalance)
  # ➤ Example: 0.0005 = 0.05% = 5 basis points per trade (round trip)
  # Higher values reduce excessive rebalancing and can simulate real-world frictions.
  proportional: 0.0005
