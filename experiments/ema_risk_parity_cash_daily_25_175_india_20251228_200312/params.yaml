experiment:
  name: "ema_risk_parity_cash_daily_25_175_india"  #  choose a name for your experiment
  #tag: "mvreg"
  start_date: "2015-11-06" #yyyy-mm-dd
  end_date: "2024-07-05"
  rebalance: "daily"  #  choose one: daily | weekly | monthly
  seed: 42
  use_gpu: false

data:
  mode: "processed"  # ðŸ‘ˆ choose one: synthetic | processed
  # Option A (recommended): pick which processed dataset to use
  processed:
    dataset: "india"   # ðŸ‘ˆ choose one: india | us | both
    base_dir: "data/processed"
    freq: "1D"

risk_model:
  type: "sample_cov"
  lookback: 252

csv_path: ""

cash:
  enabled: true
  asset_name: CASH

  # set < 1.0 to always keep some cash (reduces DD)
  max_gross_exposure: 1.0   # e.g., 0.7 means 30% cash floor

  # optional drawdown brake
  drawdown_brake:
    enabled: true
    threshold: 0.12         # trigger when DD >= 12%
    reduced_exposure: 0.50  # cap risky exposure to 50% while brake is active

optimizer:
  type: ema_hybrid
  long_only: true
  box:
    min: 0.008
    max: 0.6

  ema:
    fast_span: 25
    slow_span: 175

    fast_price_field: close
    slow_price_field: close

    # Hybrid mode: use EMA crossover to filter assets, then run a base optimizer on the filtered universe.
    # Set to 'greedy' to revert to the original greedy EMA weighting.
    post_optimizer: risk_parity   # mv_reg | minvar | risk_parity | sharpe | entropy_newton | greedy
    mu_source: blend         # ema_score | returns | blend
    mu_blend_alpha: 0.8      # used when mu_source=blend (1.0 = pure ema_score)
    mu_scale: 1.0            # scales ema_score when used as mu

    bullish_threshold: 0.0   # score > threshold is bullish
    min_assets: 8            # minimum assets after filtering (fills with least-bearish)
    max_assets: 30           # cap number of assets (highest scores kept)

    fallback_k: 5
    weight_power: 1.0
    epsilon: 1e-12

transaction_costs:
  proportional: 0.0005
